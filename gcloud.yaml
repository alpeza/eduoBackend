apiVersion: serving.knative.dev/v1
kind: Service
metadata:
  name: eduobackend
  namespace: '204130050774'
  selfLink: /apis/serving.knative.dev/v1/namespaces/204130050774/services/eduobackend
  uid: 99506ad8-a8ac-420e-b157-2a6e314c0337
  resourceVersion: AAXpgZfuFgQ
  generation: 4
  creationTimestamp: '2022-09-25T13:35:11.057058Z'
  labels:
    managed-by: gcp-cloud-build-deploy-cloud-run
    gcb-trigger-id: fa666696-63df-431e-8686-917de962aee4
    cloud.googleapis.com/location: europe-southwest1
  annotations:
    run.googleapis.com/client-name: cloud-console
    serving.knative.dev/creator: alpeza06@gmail.com
    serving.knative.dev/lastModifier: alpeza06@gmail.com
    client.knative.dev/user-image: gcr.io/eduokit-363508/eduobackend
    run.googleapis.com/ingress: all
    run.googleapis.com/ingress-status: all
spec:
  template:
    metadata:
      name: eduobackend-00004-qoz
      annotations:
        run.googleapis.com/client-name: cloud-run-button
        client.knative.dev/user-image: gcr.io/eduokit-363508/eduobackend
        autoscaling.knative.dev/maxScale: '100'
    spec:
      containerConcurrency: 80
      timeoutSeconds: 300
      serviceAccountName: 204130050774-compute@developer.gserviceaccount.com
      containers:
      - image: gcr.io/eduokit-363508/eduobackend
        ports:
        - name: http1
          containerPort: 1337
        env:
        - name: HOST
          value: 0.0.0.0
        - name: NODE_ENV
          value: production
        - name: DATABASE_NAME
          value: strapi
        - name: DATABASE_USER
          value: postgres
        - name: DATABASE_PASSWORD
          value: eduokitpostgre
        - name: INSTANCE_CONNECTION_NAME
          value: 'eduokitpostgre'
        #- name: INSTANCE_CONNECTION_NAME
        #  value: 'eduokit-363508:europe-southwest1:eduokitpostgre'
        resources:
          limits:
            cpu: 1000m
            memory: 512Mi
  traffic:
  - percent: 100
    latestRevision: true
